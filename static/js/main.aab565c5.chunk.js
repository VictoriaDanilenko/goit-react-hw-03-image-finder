(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{38:function(e,n,t){},80:function(e,n,t){"use strict";t.r(n);var a,r,o,i,c,l,s,u=t(0),p=t(27),d=t.n(p),g=(t(37),t(38),t(7)),h=t.n(g),b=t(8),m=t(2),x=t(15),f=t(9),j=t(10),O=t(13),v=t(12),y=t(4),w=t(5),S=w.a.li(a||(a=Object(y.a)(["\n  border-radius: 2px;\n  box-shadow: 0px 1px 3px 0px rgba(0, 0, 0, 0.2),\n    0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 2px 1px -1px rgba(0, 0, 0, 0.12);\n  .ImageGalleryItem-image {\n    width: 100%;\n    height: 260px;\n    object-fit: cover;\n    transition: transform 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  }\n  .ImageGalleryItem-image:hover {\n    transform: scale(1.03);\n    cursor: zoom-in;\n  }\n"]))),k=t(1),I=function(e){var n=e.image,t=e.onImageClick,a=n.id,r=n.tags,o=n.webformatURL,i=n.largeImageURL;return Object(k.jsx)(S,{"data-id":a,onClick:t,children:Object(k.jsx)("img",{src:o,alt:r,"data-url":i,"data-alt":r,className:"ImageGalleryItem-image"})})},F=w.a.ul(r||(r=Object(y.a)(["\n  display: grid;\n  max-width: calc(100vw - 48px);\n  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));\n  grid-gap: 16px;\n  margin-top: 0;\n  margin-bottom: 0;\n  padding: 0;\n  list-style: none;\n  margin-left: auto;\n  margin-right: auto;\n"]))),C=function(e){var n=e.images,t=e.onImageClick;return Object(k.jsx)(F,{children:n.map((function(e){return Object(k.jsx)(I,{image:e,onImageClick:t},e.id)}))})},M=w.a.header(o||(o=Object(y.a)(["\n  top: 0;\n  left: 0;\n  position: sticky;\n  z-index: 1100;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 64px;\n  padding-right: 24px;\n  padding-left: 24px;\n  padding-top: 12px;\n  padding-bottom: 12px;\n  color: #fff;\n  background-color: #3f51b5;\n  box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2),\n    0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);\n  /*\n * \u0421\u0442\u0438\u043b\u0438 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0430 SearchForm\n */\n  .SearchForm {\n    display: flex;\n    align-items: center;\n    width: 100%;\n    max-width: 600px;\n    background-color: #fff;\n    border-radius: 3px;\n    overflow: hidden;\n  }\n  .SearchForm-button {\n    display: inline-block;\n    width: 48px;\n    height: 48px;\n    border: 0;\n    background-image: url('https://image.flaticon.com/icons/svg/149/149852.svg');\n    background-size: 40%;\n    background-repeat: no-repeat;\n    background-position: center;\n    opacity: 0.6;\n    transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\n    cursor: pointer;\n    outline: none;\n  }\n  .SearchForm-button:hover {\n    opacity: 1;\n  }\n  .SearchForm-button-label {\n    position: absolute;\n    width: 1px;\n    height: 1px;\n    padding: 0;\n    overflow: hidden;\n    clip: rect(0, 0, 0, 0);\n    white-space: nowrap;\n    clip-path: inset(50%);\n    border: 0;\n  }\n  .SearchForm-input {\n    display: inline-block;\n    width: 100%;\n    font: inherit;\n    font-size: 20px;\n    border: none;\n    outline: none;\n    padding-left: 4px;\n    padding-right: 4px;\n  }\n  .SearchForm-input::placeholder {\n    font: inherit;\n    font-size: 18px;\n  }\n"]))),B=function(e){Object(O.a)(t,e);var n=Object(v.a)(t);function t(){var e;Object(f.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=n.call.apply(n,[this].concat(r))).state={inputValue:""},e.handleChange=function(n){e.setState({inputValue:n.target.value})},e.handleSubmit=function(n){n.preventDefault(),e.props.onSubmit(e.state.inputValue),e.setState({inputValue:""})},e}return Object(j.a)(t,[{key:"render",value:function(){return Object(k.jsx)(M,{className:"Searchbar",children:Object(k.jsxs)("form",{className:"SearchForm",onSubmit:this.handleSubmit,children:[Object(k.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(k.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(k.jsx)("input",{onChange:this.handleChange,value:this.state.inputValue,className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})}}]),t}(u.Component),L=w.a.div(i||(i=Object(y.a)(["\n  .Button {\n    display: block;\n    margin: 0 auto;\n    padding: 8px 16px;\n    border-radius: 2px;\n    background-color: #3f51b5;\n    transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);\n    text-align: center;\n    color: #fff;\n    border: 0;\n    text-decoration: none;\n    cursor: pointer;\n    font-family: inherit;\n    font-size: 18px;\n    line-height: 24px;\n    font-style: normal;\n    font-weight: 500;\n    min-width: 180px;\n    box-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.2),\n      0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);\n  }\n  .Button:hover,\n  .Button:focus {\n    background-color: #303f9f;\n  }\n"]))),z=function(e){var n=e.onFetchImages;return Object(k.jsx)(L,{children:Object(k.jsx)("button",{className:"Button",type:"button",onClick:n,children:"Load more"})})},E=w.a.div(c||(c=Object(y.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: rgba(0, 0, 0, 0.8);\n  z-index: 1200;\n  .Modal {\n    max-width: calc(100vw - 48px);\n    max-height: calc(100vh - 24px);\n  }\n"]))),U=function(e){var n=e.imgURL,t=e.imgAlt,a=e.onHandleClickInModal;return Object(k.jsx)(E,{onClick:a,children:Object(k.jsx)("div",{className:"Modal",children:Object(k.jsx)("img",{src:n,alt:t})})})},N=t(31),R=t.n(N),A=(t(62),w.a.div(l||(l=Object(y.a)(["\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: rgba(0, 0, 0, 0.8);\n  pointer-events: initial;\n"])))),H=function(){return Object(k.jsx)(A,{children:Object(k.jsx)(R.a,{type:"ThreeDots",color:"#00BFFF",height:80,width:80})})},V=w.a.div(s||(s=Object(y.a)(["\n  display: grid;\n  grid-template-columns: 1fr;\n  grid-gap: 16px;\n  padding-bottom: 24px;\n"]))),G=t(32),Q=t.n(G),q=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,t="19509532-9c10a3c2f413abf8ad2252df8";return Q.a.get("https://pixabay.com/api/?q=".concat(e,"&page=").concat(n,"&key=").concat(t,"&image_type=photo&orientation=horizontal&per_page=12\n")).then((function(e){return e.data.hits}))},D=function(e){Object(O.a)(t,e);var n=Object(v.a)(t);function t(){var e;Object(f.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=n.call.apply(n,[this].concat(r))).state={images:[],loading:!1,error:null,searchQuery:"",page:1,largeImageURL:"",largeImageAlt:""},e.handleSearchFormSubmit=function(){var n=Object(x.a)(h.a.mark((function n(t){var a,r,o=arguments;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=o.length>1&&void 0!==o[1]?o[1]:1,n.prev=1,""!==t){n.next=4;break}return n.abrupt("return");case 4:return window.scrollTo({top:0,behavior:"smooth"}),e.resetError(),e.setState((function(e){return Object(m.a)(Object(m.a)({},e),{},{loading:!0})})),n.next=9,q(t,a);case 9:r=n.sent,e.setState((function(e){return Object(m.a)(Object(m.a)({},e),{},{images:Object(b.a)(r),page:2,searchQuery:t,loading:!1})})),n.next=16;break;case 13:n.prev=13,n.t0=n.catch(1),e.setState((function(e){return Object(m.a)(Object(m.a)({},e),{},{error:n.t0})}));case 16:return n.prev=16,e.setState((function(e){return Object(m.a)(Object(m.a)({},e),{},{loading:!1})})),n.finish(16);case 19:case"end":return n.stop()}}),n,null,[[1,13,16,19]])})));return function(e){return n.apply(this,arguments)}}(),e.loadMore=Object(x.a)(h.a.mark((function n(){var t,a,r,o;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,e.resetError(),t=e.state,a=t.searchQuery,r=t.page,e.setState((function(e){return Object(m.a)(Object(m.a)({},e),{},{loading:!0})})),n.next=6,q(a,r);case 6:o=n.sent,e.setState((function(e){return Object(m.a)(Object(m.a)({},e),{},{images:[].concat(Object(b.a)(e.images),Object(b.a)(o)),page:e.page+1})})),e.state.page>2&&e.scrollBy(),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),e.setState((function(e){return Object(m.a)(Object(m.a)({},e),{},{error:n.t0})}));case 14:return n.prev=14,e.setState((function(e){return Object(m.a)(Object(m.a)({},e),{},{loading:!1})})),n.finish(14);case 17:case"end":return n.stop()}}),n,null,[[0,11,14,17]])}))),e.resetError=function(){e.setState((function(e){return Object(m.a)(Object(m.a)({},e),{},{error:""})}))},e.toggleModal=function(n){e.setState({largeImageURL:n.target.dataset.url,largeImageAlt:n.target.dataset.url})},e.closeModalByEsc=function(n){"Escape"===n.code&&e.setState({largeImageURL:null})},e.handleClickInModal=function(n){"IMG"!==n.target.nodeName&&e.setState({largeImageURL:null})},e.scrollBy=function(){window.scrollBy({top:document.documentElement.clientHeight-document.querySelector(".Button").clientHeight-document.querySelector(".Searchbar").clientHeight,behavior:"smooth"})},e}return Object(j.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("keydown",this.closeModalByEsc);var n=this.state,t=n.searchQuery,a=n.page;q(t,a).then((function(n){e.setState((function(e){return Object(m.a)(Object(m.a)({},e),{},{images:Object(b.a)(n),page:2})}))}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.closeModalByEsc)}},{key:"render",value:function(){var e=this.state,n=e.images,t=e.loading,a=e.largeImageURL,r=e.largeImageAlt;return Object(k.jsxs)(V,{children:[Object(k.jsx)(B,{onSubmit:this.handleSearchFormSubmit}),n.length>0&&Object(k.jsx)(C,{images:n,onImageClick:this.toggleModal}),a&&Object(k.jsx)(U,{imgURL:a,imgAlt:r,onHandleClickInModal:this.handleClickInModal}),t&&Object(k.jsx)(H,{}),n.length>0&&Object(k.jsx)(z,{onFetchImages:this.loadMore})]})}}]),t}(u.Component),J=function(){return Object(k.jsx)(D,{})};d.a.render(Object(k.jsx)(J,{}),document.getElementById("root"))}},[[80,1,2]]]);
//# sourceMappingURL=main.aab565c5.chunk.js.map